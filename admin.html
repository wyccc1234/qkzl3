<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>青空之恋 - 管理系统</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="css/admin-style.css">
  <!-- 预加载字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- 登录页面 -->
  <div id="login-page" class="login-container">
    <div class="login-card">
      <div class="login-header">
        <img src="img/logo.png" alt="青空之恋" class="login-logo">
        <h2 class="text-center mb-4">青空之恋 - 管理系统</h2>
      </div>
      <form id="login-form">
        <div class="mb-3">
          <label for="username" class="form-label">管理员账号</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
            <input type="text" class="form-control" id="username" placeholder="请输入管理员账号" required>
          </div>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">管理员密码</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
            <input type="password" class="form-control" id="password" placeholder="请输入管理员密码" required>
          </div>
        </div>
        <div class="d-grid">
          <button type="submit" class="btn btn-primary btn-lg">登录管理系统</button>
        </div>
        <div class="mt-3 text-center">
          <a href="index.html" class="back-to-site"><i class="bi bi-arrow-left"></i> 返回网站首页</a>
        </div>
      </form>
    </div>
    
    <!-- 樱花特效 -->
    <div class="cherry-blossoms">
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
      <div class="petal"></div>
    </div>
  </div>

  <!-- 管理系统页面 -->
  <div id="admin-page" style="display: none;">
    <div class="container-fluid">
      <div class="row">
        <!-- 侧边栏 -->
        <div class="sidebar col-md-3 col-lg-2 d-md-block">
          <div class="sidebar-header">
            <img src="img/logo.png" alt="青空之恋" class="sidebar-logo">
            <h3 class="text-center mb-2">青空之恋</h3>
            <p class="text-center">管理系统</p>
          </div>
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" href="#carousel-section" data-section="carousel-section">
                <i class="bi bi-images"></i> 轮播图管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#game-intro-section" data-section="game-intro-section">
                <i class="bi bi-info-circle"></i> 游戏介绍管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#character-section" data-section="character-section">
                <i class="bi bi-people"></i> 角色管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#screenshot-section" data-section="screenshot-section">
                <i class="bi bi-camera"></i> 游戏截图管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#announcement-section" data-section="announcement-section">
                <i class="bi bi-megaphone"></i> 公告管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#user-section" data-section="user-section">
                <i class="bi bi-people-fill"></i> 用户管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#comment-section" data-section="comment-section">
                <i class="bi bi-chat-dots"></i> 评论管理
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#setting-section" data-section="setting-section">
                <i class="bi bi-gear"></i> 网站设置
              </a>
            </li>
            <li class="nav-item mt-5">
              <a class="nav-link text-danger" href="#" id="logout-btn">
                <i class="bi bi-box-arrow-right"></i> 退出系统
              </a>
            </li>
          </ul>
        </div>

        <!-- 主要内容区域 -->
        <div class="col-md-9 col-lg-10 main-panel">
          <header class="admin-header">
            <div class="container-fluid">
              <div class="row align-items-center">
                <div class="col">
                  <h1>管理控制台</h1>
                </div>
                <div class="col-auto">
                  <span id="current-time" class="current-time"></span>
                </div>
              </div>
            </div>
          </header>

          <main class="main-content">
            <!-- 轮播图管理 -->
            <div id="carousel-section" class="section active">
              <div class="content-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <h2><i class="bi bi-images"></i> 轮播图管理</h2>
                  <button class="btn btn-primary" id="add-carousel-btn">
                    <i class="bi bi-plus-circle"></i> 添加轮播图
                  </button>
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>图片</th>
                        <th>标题</th>
                        <th>描述</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="carousel-list">
                      <!-- 轮播图列表将通过JS动态加载 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- 游戏介绍管理 -->
            <div id="game-intro-section" class="section">
              <div class="content-card">
                <h2 class="mb-4"><i class="bi bi-info-circle"></i> 游戏介绍管理</h2>
                <form id="game-intro-form">
                  <div class="mb-3">
                    <label for="game-title" class="form-label">游戏标题</label>
                    <input type="text" class="form-control" id="game-title" required>
                  </div>
                  <div class="mb-3">
                    <label for="game-description" class="form-label">游戏描述</label>
                    <textarea class="form-control" id="game-description" rows="4" required></textarea>
                  </div>
                  <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="button" class="btn btn-primary" id="save-game-intro">保存</button>
                  </div>
                </form>
                
                <h3 class="mt-5 mb-3">游戏特性管理</h3>
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <p>管理游戏的核心特性和亮点</p>
                  <button class="btn btn-primary" id="add-feature-btn">
                    <i class="bi bi-plus-circle"></i> 添加特性
                  </button>
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>标题</th>
                        <th>描述</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="feature-list">
                      <!-- 特性列表将通过JS动态加载 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- 角色管理 -->
            <div id="character-section" class="section">
              <div class="content-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <h2><i class="bi bi-people"></i> 角色管理</h2>
                  <button class="btn btn-primary" id="add-character-btn">
                    <i class="bi bi-plus-circle"></i> 添加角色
                  </button>
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>图片</th>
                        <th>姓名</th>
                        <th>性格</th>
                        <th>描述</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="character-list">
                      <!-- 角色列表将通过JS动态加载 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- 游戏截图管理 -->
            <div id="screenshot-section" class="section">
              <div class="content-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <h2><i class="bi bi-camera"></i> 游戏截图管理</h2>
                  <button class="btn btn-primary" id="add-screenshot-btn">
                    <i class="bi bi-plus-circle"></i> 添加截图
                  </button>
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>图片</th>
                        <th>描述</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="screenshot-list">
                      <!-- 截图列表将通过JS动态加载 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- 公告管理 -->
            <div id="announcement-section" class="section">
              <div class="content-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <h2><i class="bi bi-megaphone"></i> 公告管理</h2>
                  <button class="btn btn-primary" id="add-announcement-btn">
                    <i class="bi bi-plus-circle"></i> 添加公告
                  </button>
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>日期</th>
                        <th>标题</th>
                        <th>内容预览</th>
                        <th>重要</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="announcement-list">
                      <!-- 公告列表将通过JS动态加载 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            
            <!-- 用户管理 -->
            <div id="user-section" class="section">
              <div class="content-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <h2><i class="bi bi-people-fill"></i> 用户管理</h2>
                </div>
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>用户名</th>
                        <th>角色</th>
                        <th>注册日期</th>
                        <th>最后登录</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody id="user-list">
                      <!-- 用户列表将通过JS动态加载 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            
            <!-- 评论管理 -->
            <div id="comment-section" class="section">
              <div class="content-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                  <h2><i class="bi bi-chat-dots"></i> 评论管理</h2>
                </div>
                <div class="tab-buttons mb-3">
                  <button class="tab-btn active" data-tab="all-comments">所有评论</button>
                  <button class="tab-btn" data-tab="reported-comments">被举报评论</button>
                </div>
                <div class="tab-content active" id="all-comments">
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>用户</th>
                          <th>评论内容</th>
                          <th>发布位置</th>
                          <th>发布时间</th>
                          <th>操作</th>
                        </tr>
                      </thead>
                      <tbody id="comment-list">
                        <!-- 评论列表将通过JS动态加载 -->
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="tab-content" id="reported-comments">
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>#</th>
                          <th>用户</th>
                          <th>评论内容</th>
                          <th>举报次数</th>
                          <th>举报原因</th>
                          <th>操作</th>
                        </tr>
                      </thead>
                      <tbody id="reported-comment-list">
                        <!-- 被举报评论列表将通过JS动态加载 -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <!-- 网站设置 -->
            <div id="setting-section" class="section">
              <div class="content-card">
                <h2 class="mb-4"><i class="bi bi-gear"></i> 网站设置</h2>
                
                <form id="site-settings-form">
                  <div class="mb-3">
                    <label for="site-name" class="form-label">网站名称</label>
                    <input type="text" class="form-control" id="site-name" required>
                  </div>
                  <div class="mb-3">
                    <label for="site-description" class="form-label">网站描述</label>
                    <textarea class="form-control" id="site-description" rows="2"></textarea>
                  </div>
                  <div class="mb-3">
                    <label for="contact-email" class="form-label">联系邮箱</label>
                    <input type="email" class="form-control" id="contact-email">
                  </div>
                  
                  <h4 class="mt-4 mb-3">主题设置</h4>
                  <div class="row mb-3">
                    <div class="col-md-6">
                      <label class="form-label">主题色</label>
                      <div class="d-flex">
                        <div class="color-picker me-2">
                          <input type="color" id="primary-color" value="#FFB6C1" class="form-control form-control-color">
                          <span>主色</span>
                        </div>
                        <div class="color-picker">
                          <input type="color" id="secondary-color" value="#87CEEB" class="form-control form-control-color">
                          <span>辅色</span>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <label class="form-label">粒子效果</label>
                      <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="enable-particles" checked>
                        <label class="form-check-label" for="enable-particles">启用鼠标粒子效果</label>
                      </div>
                    </div>
                  </div>
                  
                  <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                    <button type="button" class="btn btn-primary" id="save-settings">保存设置</button>
                  </div>
                </form>
              </div>
            </div>
          </main>

          <footer class="admin-footer">
            <p>&copy; 2023 青空工作室 版权所有 | 管理系统</p>
          </footer>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- 自定义JS -->
  <script src="js/DataManager.js"></script>
  <script src="js/AdminDataFunctions.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/comments.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>