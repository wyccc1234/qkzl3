<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é’ç©ºä¹‹æ‹ - ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        /* åŸºç¡€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }
        
        ul, li {
            list-style: none;
        }
        
        /* å˜é‡ */
        :root {
            --primary: #FF9EB5;
            --primary-light: #FFD6E0;
            --secondary: #6ECEF5;
            --secondary-light: #B3E5FC;
            --dark: #333333;
            --light: #FFFFFF;
            --gray: #EEEEEE;
        }
        
        /* ç™»å½•é¡µé¢æ ·å¼ */
        .login-container {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #B3E5FC 0%, #FFD6E0 100%);
        }
        
        .login-box {
            width: 400px;
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .login-logo {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-logo h1 {
            color: var(--primary);
            font-size: 2rem;
        }
        
        .login-form h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .login-btn:hover {
            background-color: #ff8ca8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 158, 181, 0.3);
        }
        
        .back-link {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: #666;
            transition: color 0.3s;
        }
        
        .back-link:hover {
            color: var(--primary);
        }
        
        .error-message {
            color: #e74c3c;
            text-align: center;
            margin-top: 15px;
            display: none;
        }
        
        /* ç®¡ç†ç³»ç»Ÿæ ·å¼ */
        .admin-container {
            display: none;
            height: 100vh;
            overflow: hidden;
        }
        
        .admin-header {
            background-color: white;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-logo h1 {
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .admin-header-actions {
            display: flex;
            align-items: center;
        }
        
        .admin-header-btn {
            padding: 8px 15px;
            background-color: var(--primary);
            color: white;
            border-radius: 6px;
            margin-left: 10px;
            transition: all 0.3s;
        }
        
        .admin-header-btn:hover {
            background-color: #ff8ca8;
        }
        
        .admin-main {
            display: flex;
            height: calc(100vh - 60px);
        }
        
        .admin-sidebar {
            width: 220px;
            background-color: #2d3436;
            color: white;
            overflow-y: auto;
        }
        
        .sidebar-menu {
            padding: 20px 0;
        }
        
        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .menu-item:hover {
            background-color: #3d4548;
        }
        
        .menu-item.active {
            background-color: var(--primary);
        }
        
        .menu-item i {
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        .admin-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .content-panel {
            display: none;
        }
        
        .content-panel.active {
            display: block;
        }
        
        .panel-header {
            margin-bottom: 20px;
        }
        
        .panel-header h2 {
            font-size: 1.8rem;
            color: #2d3436;
            margin-bottom: 10px;
        }
        
        .panel-header p {
            color: #7f8c8d;
        }
        
        .btn-add {
            background-color: var(--secondary);
            color: white;
            padding: 12px 25px;
            border-radius: 6px;
            font-weight: 500;
            margin-bottom: 20px;
            display: inline-block;
            transition: all 0.3s;
        }
        
        .btn-add:hover {
            background-color: #5dbfe9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(110, 206, 245, 0.3);
        }
        
        .admin-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .card-header {
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        
        .card-header h3 {
            font-size: 1.4rem;
            color: #2d3436;
        }
        
        .form-row {
            margin-bottom: 15px;
        }
        
        .form-row label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-row input, .form-row textarea {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .form-row textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .btn-save {
            background-color: var(--secondary);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-save:hover {
            background-color: #5dbfe9;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th, .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }
        
        .data-table th {
            background-color: #f9f9f9;
            font-weight: 500;
        }
        
        .table-image {
            width: 80px;
            height: 45px;
            border-radius: 4px;
            object-fit: cover;
        }
        
        .actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-edit, .btn-delete {
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-edit {
            background-color: #f5f6fa;
            color: #333;
        }
        
        .btn-edit:hover {
            background-color: #e9ebf4;
        }
        
        .btn-delete {
            background-color: #ffefef;
            color: #e74c3c;
        }
        
        .btn-delete:hover {
            background-color: #ffd8d8;
        }
        
        /* æ·»åŠ è¡¨å•å¼¹çª— */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 600px;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: #2d3436;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
        }
        
        /* è½®æ’­å›¾ç®¡ç†æ ·å¼ */
        .carousel-preview {
            width: 100%;
            height: 200px;
            background-color: #eee;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
            background-size: cover;
            background-position: center;
        }
        
        .carousel-preview-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 15px;
            color: white;
            background: linear-gradient(to top, rgba(0,0,0,0.7), rgba(0,0,0,0));
        }
        
        /* æ¸¸æˆæˆªå›¾ç®¡ç†æ ·å¼ */
        .screenshots-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .screenshot-item {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .screenshot-img {
            width: 100%;
            height: 120px;
            background-size: cover;
            background-position: center;
        }
        
        .screenshot-info {
            padding: 10px;
        }
        
        .screenshot-info p {
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        /* åª’ä½“æŸ¥è¯¢ï¼Œå“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .admin-main {
                flex-direction: column;
            }
            
            .admin-sidebar {
                width: 100%;
                height: auto;
            }
            
            .sidebar-menu {
                display: flex;
                overflow-x: auto;
                padding: 10px;
            }
            
            .menu-item {
                padding: 8px 15px;
                white-space: nowrap;
            }
        }
    </style>
</head>
<body>
    <!-- ç™»å½•é¡µé¢ -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="login-logo">
                <h1>é’ç©ºä¹‹æ‹</h1>
            </div>
            <form class="login-form" id="loginForm">
                <h2>ç®¡ç†å‘˜ç™»å½•</h2>
                <div class="form-group">
                    <label for="username">ç”¨æˆ·å</label>
                    <input type="text" class="form-control" id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" required>
                </div>
                <div class="form-group">
                    <label for="password">å¯†ç </label>
                    <input type="password" class="form-control" id="password" placeholder="è¯·è¾“å…¥å¯†ç " required>
                </div>
                <button type="submit" class="login-btn">ç™»å½•</button>
                <p class="error-message" id="loginError">ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯</p>
            </form>
            <a href="index.html" class="back-link">è¿”å›ç½‘ç«™é¦–é¡µ</a>
        </div>
    </div>

    <!-- ç®¡ç†ç³»ç»Ÿä¸»ç•Œé¢ -->
    <div class="admin-container" id="adminPage">
        <header class="admin-header">
            <div class="admin-logo">
                <h1>é’ç©ºä¹‹æ‹ - ç®¡ç†ç³»ç»Ÿ</h1>
            </div>
            <div class="admin-header-actions">
                <a href="index.html" class="admin-header-btn" id="backToSite">è¿”å›ç½‘ç«™</a>
                <a href="#" class="admin-header-btn" id="logoutBtn">é€€å‡ºç™»å½•</a>
            </div>
        </header>

        <main class="admin-main">
            <div class="admin-sidebar">
                <ul class="sidebar-menu">
                    <li class="menu-item active" data-panel="carouselPanel">è½®æ’­å›¾ç®¡ç†</li>
                    <li class="menu-item" data-panel="gameIntroPanel">æ¸¸æˆä»‹ç»ç®¡ç†</li>
                    <li class="menu-item" data-panel="charactersPanel">è§’è‰²ç®¡ç†</li>
                    <li class="menu-item" data-panel="screenshotsPanel">æ¸¸æˆæˆªå›¾ç®¡ç†</li>
                    <li class="menu-item" data-panel="announcementsPanel">å…¬å‘Šç®¡ç†</li>
                    <li class="menu-item" data-panel="settingsPanel">ç½‘ç«™è®¾ç½®</li>
                </ul>
            </div>

            <div class="admin-content">
                <!-- è½®æ’­å›¾ç®¡ç†é¢æ¿ -->
                <div class="content-panel active" id="carouselPanel">
                    <div class="panel-header">
                        <h2>è½®æ’­å›¾ç®¡ç†</h2>
                        <p>ç®¡ç†ç½‘ç«™é¦–é¡µçš„è½®æ’­å›¾å†…å®¹</p>
                    </div>

                    <a href="#" class="btn-add" id="addCarouselBtn">æ·»åŠ è½®æ’­å›¾</a>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>è½®æ’­å›¾åˆ—è¡¨</h3>
                        </div>
                        <table class="data-table" id="carouselTable">
                            <thead>
                                <tr>
                                    <th>å›¾ç‰‡é¢„è§ˆ</th>
                                    <th>æ ‡é¢˜</th>
                                    <th>æè¿°</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- è½®æ’­å›¾æ•°æ®è¡Œä¼šåŠ¨æ€æ·»åŠ åœ¨è¿™é‡Œ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- æ¸¸æˆä»‹ç»ç®¡ç†é¢æ¿ -->
                <div class="content-panel" id="gameIntroPanel">
                    <div class="panel-header">
                        <h2>æ¸¸æˆä»‹ç»ç®¡ç†</h2>
                        <p>ç¼–è¾‘æ¸¸æˆä»‹ç»å’Œç‰¹è‰²å†…å®¹</p>
                    </div>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>åŸºæœ¬ä¿¡æ¯</h3>
                        </div>
                        <form id="gameIntroForm">
                            <div class="form-row">
                                <label for="gameTitle">æ¸¸æˆæ ‡é¢˜</label>
                                <input type="text" id="gameTitle" placeholder="è¾“å…¥æ¸¸æˆæ ‡é¢˜">
                            </div>
                            <div class="form-row">
                                <label for="gameDescription">æ¸¸æˆæè¿°</label>
                                <textarea id="gameDescription" placeholder="è¾“å…¥æ¸¸æˆæè¿°"></textarea>
                            </div>
                            <div class="form-row">
                                <label for="gameImageUrl">ä¸»è¦å›¾ç‰‡URL</label>
                                <input type="text" id="gameImageUrl" placeholder="è¾“å…¥å›¾ç‰‡URL">
                            </div>
                            <button type="submit" class="btn-save">ä¿å­˜æ›´æ”¹</button>
                        </form>
                    </div>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>æ¸¸æˆç‰¹è‰²</h3>
                        </div>
                        <div id="featuresList">
                            <!-- ç‰¹è‰²é¡¹ç›®ä¼šåŠ¨æ€æ·»åŠ åœ¨è¿™é‡Œ -->
                        </div>
                        <div class="form-row">
                            <button class="btn-add" id="addFeatureBtn">æ·»åŠ ç‰¹è‰²</button>
                        </div>
                    </div>
                </div>

                <!-- è§’è‰²ç®¡ç†é¢æ¿ -->
                <div class="content-panel" id="charactersPanel">
                    <div class="panel-header">
                        <h2>è§’è‰²ç®¡ç†</h2>
                        <p>ç®¡ç†æ¸¸æˆä¸­çš„è§’è‰²ä¿¡æ¯</p>
                    </div>

                    <a href="#" class="btn-add" id="addCharacterBtn">æ·»åŠ è§’è‰²</a>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>è§’è‰²åˆ—è¡¨</h3>
                        </div>
                        <table class="data-table" id="charactersTable">
                            <thead>
                                <tr>
                                    <th>å›¾ç‰‡é¢„è§ˆ</th>
                                    <th>è§’è‰²åç§°</th>
                                    <th>èº«ä»½</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- è§’è‰²æ•°æ®è¡Œä¼šåŠ¨æ€æ·»åŠ åœ¨è¿™é‡Œ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- æ¸¸æˆæˆªå›¾ç®¡ç†é¢æ¿ -->
                <div class="content-panel" id="screenshotsPanel">
                    <div class="panel-header">
                        <h2>æ¸¸æˆæˆªå›¾ç®¡ç†</h2>
                        <p>ç®¡ç†å±•ç¤ºçš„æ¸¸æˆæˆªå›¾</p>
                    </div>

                    <a href="#" class="btn-add" id="addScreenshotBtn">æ·»åŠ æˆªå›¾</a>

                    <div class="admin-card">
                        <div class="screenshots-grid" id="screenshotsGrid">
                            <!-- æˆªå›¾é¡¹ç›®ä¼šåŠ¨æ€æ·»åŠ åœ¨è¿™é‡Œ -->
                        </div>
                    </div>
                </div>

                <!-- å…¬å‘Šç®¡ç†é¢æ¿ -->
                <div class="content-panel" id="announcementsPanel">
                    <div class="panel-header">
                        <h2>å…¬å‘Šç®¡ç†</h2>
                        <p>ç®¡ç†æ¸¸æˆå…¬å‘Šä¿¡æ¯</p>
                    </div>

                    <a href="#" class="btn-add" id="addAnnouncementBtn">æ·»åŠ å…¬å‘Š</a>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>å…¬å‘Šåˆ—è¡¨</h3>
                        </div>
                        <table class="data-table" id="announcementsTable">
                            <thead>
                                <tr>
                                    <th>æ—¥æœŸ</th>
                                    <th>æ ‡é¢˜</th>
                                    <th>å†…å®¹é¢„è§ˆ</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- å…¬å‘Šæ•°æ®è¡Œä¼šåŠ¨æ€æ·»åŠ åœ¨è¿™é‡Œ -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ç½‘ç«™è®¾ç½®é¢æ¿ -->
                <div class="content-panel" id="settingsPanel">
                    <div class="panel-header">
                        <h2>ç½‘ç«™è®¾ç½®</h2>
                        <p>ç®¡ç†ç½‘ç«™åŸºæœ¬ä¿¡æ¯å’ŒLOGO</p>
                    </div>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>ç½‘ç«™LOGO</h3>
                        </div>
                        <form id="logoForm">
                            <div class="form-row">
                                <label for="logoUrl">LOGOå›¾ç‰‡URL</label>
                                <input type="text" id="logoUrl" placeholder="è¾“å…¥LOGOå›¾ç‰‡URL">
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn-save">ä¿å­˜LOGO</button>
                            </div>
                        </form>
                    </div>

                    <div class="admin-card">
                        <div class="card-header">
                            <h3>ç½‘ç«™ä¿¡æ¯</h3>
                        </div>
                        <form id="siteInfoForm">
                            <div class="form-row">
                                <label for="siteName">ç½‘ç«™åç§°</label>
                                <input type="text" id="siteName" placeholder="è¾“å…¥ç½‘ç«™åç§°">
                            </div>
                            <div class="form-row">
                                <label for="siteDescription">ç½‘ç«™æè¿°</label>
                                <textarea id="siteDescription" placeholder="è¾“å…¥ç½‘ç«™æè¿°"></textarea>
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn-save">ä¿å­˜ä¿¡æ¯</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- æ·»åŠ è½®æ’­å›¾å¼¹çª— -->
    <div class="modal" id="addCarouselModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ·»åŠ è½®æ’­å›¾</h3>
                <button class="modal-close" id="closeCarouselModal">&times;</button>
            </div>
            <form id="carouselForm">
                <div class="form-row">
                    <label for="carouselImageUrl">å›¾ç‰‡URL</label>
                    <input type="text" id="carouselImageUrl" placeholder="è¾“å…¥å›¾ç‰‡URL" required>
                </div>
                <div class="form-row">
                    <label for="carouselTitle">æ ‡é¢˜</label>
                    <input type="text" id="carouselTitle" placeholder="è¾“å…¥æ ‡é¢˜" required>
                </div>
                <div class="form-row">
                    <label for="carouselDescription">æè¿°</label>
                    <textarea id="carouselDescription" placeholder="è¾“å…¥æè¿°" required></textarea>
                </div>
                <div class="form-row">
                    <label for="carouselBtnText">æŒ‰é’®æ–‡å­—</label>
                    <input type="text" id="carouselBtnText" placeholder="è¾“å…¥æŒ‰é’®æ–‡å­—">
                </div>
                <div class="form-row">
                    <label for="carouselBtnLink">æŒ‰é’®é“¾æ¥</label>
                    <input type="text" id="carouselBtnLink" placeholder="è¾“å…¥æŒ‰é’®é“¾æ¥">
                </div>
                <div class="form-row">
                    <button type="submit" class="btn-save">ä¿å­˜è½®æ’­å›¾</button>
                </div>
            </form>
        </div>
    </div>

    <!-- æ·»åŠ è§’è‰²å¼¹çª— -->
    <div class="modal" id="addCharacterModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ·»åŠ è§’è‰²</h3>
                <button class="modal-close" id="closeCharacterModal">&times;</button>
            </div>
            <form id="characterForm">
                <div class="form-row">
                    <label for="characterImageUrl">å›¾ç‰‡URL</label>
                    <input type="text" id="characterImageUrl" placeholder="è¾“å…¥å›¾ç‰‡URL" required>
                </div>
                <div class="form-row">
                    <label for="characterName">è§’è‰²åç§°</label>
                    <input type="text" id="characterName" placeholder="è¾“å…¥è§’è‰²åç§°" required>
                </div>
                <div class="form-row">
                    <label for="characterRole">èº«ä»½</label>
                    <input type="text" id="characterRole" placeholder="è¾“å…¥è§’è‰²èº«ä»½" required>
                </div>
                <div class="form-row">
                    <label for="characterDescription">æè¿°</label>
                    <textarea id="characterDescription" placeholder="è¾“å…¥è§’è‰²æè¿°" required></textarea>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn-save">ä¿å­˜è§’è‰²</button>
                </div>
            </form>
        </div>
    </div>

    <!-- æ·»åŠ æˆªå›¾å¼¹çª— -->
    <div class="modal" id="addScreenshotModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ·»åŠ æ¸¸æˆæˆªå›¾</h3>
                <button class="modal-close" id="closeScreenshotModal">&times;</button>
            </div>
            <form id="screenshotForm">
                <div class="form-row">
                    <label for="screenshotImageUrl">å›¾ç‰‡URL</label>
                    <input type="text" id="screenshotImageUrl" placeholder="è¾“å…¥å›¾ç‰‡URL" required>
                </div>
                <div class="form-row">
                    <label for="screenshotDescription">æè¿°</label>
                    <textarea id="screenshotDescription" placeholder="è¾“å…¥æˆªå›¾æè¿°" required></textarea>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn-save">ä¿å­˜æˆªå›¾</button>
                </div>
            </form>
        </div>
    </div>

    <!-- æ·»åŠ å…¬å‘Šå¼¹çª— -->
    <div class="modal" id="addAnnouncementModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ·»åŠ å…¬å‘Š</h3>
                <button class="modal-close" id="closeAnnouncementModal">&times;</button>
            </div>
            <form id="announcementForm">
                <div class="form-row">
                    <label for="announcementDate">æ—¥æœŸ</label>
                    <input type="date" id="announcementDate" required>
                </div>
                <div class="form-row">
                    <label for="announcementTitle">æ ‡é¢˜</label>
                    <input type="text" id="announcementTitle" placeholder="è¾“å…¥æ ‡é¢˜" required>
                </div>
                <div class="form-row">
                    <label for="announcementContent">å†…å®¹</label>
                    <textarea id="announcementContent" placeholder="è¾“å…¥å†…å®¹" required></textarea>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn-save">ä¿å­˜å…¬å‘Š</button>
                </div>
            </form>
        </div>
    </div>

    <!-- æ·»åŠ ç‰¹è‰²å¼¹çª— -->
    <div class="modal" id="addFeatureModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ·»åŠ æ¸¸æˆç‰¹è‰²</h3>
                <button class="modal-close" id="closeFeatureModal">&times;</button>
            </div>
            <form id="featureForm">
                <div class="form-row">
                    <label for="featureIcon">å›¾æ ‡</label>
                    <input type="text" id="featureIcon" placeholder="è¾“å…¥å›¾æ ‡åç§°" required>
                </div>
                <div class="form-row">
                    <label for="featureTitle">æ ‡é¢˜</label>
                    <input type="text" id="featureTitle" placeholder="è¾“å…¥ç‰¹è‰²æ ‡é¢˜" required>
                </div>
                <div class="form-row">
                    <label for="featureDescription">æè¿°</label>
                    <textarea id="featureDescription" placeholder="è¾“å…¥ç‰¹è‰²æè¿°" required></textarea>
                </div>
                <div class="form-row">
                    <button type="submit" class="btn-save">ä¿å­˜ç‰¹è‰²</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–æ•°æ®
        let carouselData = localStorage.getItem('carouselData') ? 
            JSON.parse(localStorage.getItem('carouselData')) : 
            [
                {
                    id: 1,
                    imageUrl: "https://img.zcool.cn/community/01a31c59ac1782a8012028a96df485.jpg",
                    title: "é’ç©ºä¹‹æ‹",
                    description: "ä¸€åœºæµªæ¼«çš„äºŒæ¬¡å…ƒå†’é™©ï¼Œé‚‚é€…ä½ çš„å‘½ä¸­æ³¨å®š",
                    btnText: "ç«‹å³ä¸‹è½½",
                    btnLink: "#download"
                },
                {
                    id: 2,
                    imageUrl: "https://img.zcool.cn/community/011e7d5c1bb41fa80121ab5d692221.jpg",
                    title: "å…¨æ–°è§’è‰²ç™»åœº",
                    description: "æ¥è‡ªå¼‚ä¸–ç•Œçš„ç¥ç§˜å°‘å¥³ï¼Œç­‰å¾…ä½ çš„å‘ç°",
                    btnText: "äº†è§£æ›´å¤š",
                    btnLink: "#characters"
                }
            ];
            
        let gameIntroData = localStorage.getItem('gameIntroData') ? 
            JSON.parse(localStorage.getItem('gameIntroData')) : 
            {
                title: "æ¢¦å¹»äºŒæ¬¡å…ƒå†’é™©",
                description: "ã€Šé’ç©ºä¹‹æ‹ã€‹æ˜¯ä¸€æ¬¾å……æ»¡æµªæ¼«å’Œå†’é™©çš„äºŒæ¬¡å…ƒæ¸¸æˆã€‚åœ¨è¿™ä¸ªä¸–ç•Œä¸­ï¼Œä½ å°†æ‰®æ¼”ä¸€åæ™®é€šå­¦ç”Ÿï¼Œæ„å¤–è·å¾—ç©¿è¶Šå¼‚ä¸–ç•Œçš„èƒ½åŠ›ï¼Œå¹¶ä¸å„ç§æ€§æ ¼è¿¥å¼‚çš„è§’è‰²ç›¸é‡ï¼Œå±•å¼€ä¸€æ®µæ®µéš¾å¿˜çš„æ•…äº‹ã€‚æ¸¸æˆèåˆäº†æ‹çˆ±æ¨¡æ‹Ÿã€è§’è‰²æ‰®æ¼”å’Œè§£è°œå…ƒç´ ï¼Œè®©ä½ åœ¨ä½“éªŒåˆºæ¿€å†’é™©çš„åŒæ—¶ï¼Œä¹Ÿèƒ½æ„Ÿå—åˆ°ç”œèœœçš„æ‹çˆ±æ°›å›´ã€‚",
                imageUrl: "https://img.zcool.cn/community/01fdaa5c2fd78ca801203d226d96ab.jpg",
                features: [
                    {
                        id: 1,
                        icon: "â¤ï¸",
                        title: "å¤šç»“å±€å‰§æƒ…",
                        description: "æ ¹æ®ä½ çš„é€‰æ‹©ï¼Œä½“éªŒä¸åŒçš„æ•…äº‹å‘å±•å’Œç»“å±€"
                    },
                    {
                        id: 2,
                        icon: "ğŸ®",
                        title: "ç²¾ç¾ç«‹ç»˜",
                        description: "é«˜è´¨é‡è§’è‰²ç«‹ç»˜å’ŒCGï¼Œå¸¦æ¥è§†è§‰ç››å®´"
                    },
                    {
                        id: 3,
                        icon: "ğŸµ",
                        title: "åŸåˆ›é…ä¹",
                        description: "ä¸“ä¸šåˆ¶ä½œçš„æ¸¸æˆé…ä¹ï¼Œå¢å¼ºæ²‰æµ¸æ„Ÿ"
                    },
                    {
                        id: 4,
                        icon: "ğŸŒŸ",
                        title: "äº’åŠ¨ç©æ³•",
                        description: "ä¸°å¯Œçš„äº’åŠ¨ç©æ³•ï¼Œæ¯æ¬¡ä½“éªŒéƒ½å……æ»¡æƒŠå–œ"
                    }
                ]
            };
            
        let charactersData = localStorage.getItem('charactersData') ? 
            JSON.parse(localStorage.getItem('charactersData')) : 
            [
                {
                    id: 1,
                    imageUrl: "https://img.zcool.cn/community/0153d25af36ec0a8012092527b3953.jpg",
                    name: "æ¨±äº•èŠ±",
                    role: "å¥³ä¸»è§’",
                    description: "æ€§æ ¼å¼€æœ—æ´»æ³¼çš„é«˜ä¸­ç”Ÿï¼Œæ‹¥æœ‰çœ‹åˆ°å…¶ä»–äººçœ‹ä¸åˆ°çš„å¼‚ä¸–ç•Œèƒ½åŠ›ã€‚å–œæ¬¢ç”œé£Ÿå’Œå¯çˆ±çš„ä¸œè¥¿ï¼Œå¯¹æœªçŸ¥å……æ»¡å¥½å¥‡å¿ƒã€‚"
                },
                {
                    id: 2,
                    imageUrl: "https://img.zcool.cn/community/013ade5af56df0a801219c778e2d91.jpg",
                    name: "æœˆåŸå¸",
                    role: "ç”·ä¸»è§’",
                    description: "å†·é™æ²‰ç€çš„è½¬æ ¡ç”Ÿï¼Œå®é™…ä¸Šæ˜¯æ¥è‡ªå¼‚ä¸–ç•Œçš„ä½¿è€…ã€‚æœ‰ç€ç¥ç§˜çš„è¿‡å»å’Œä½¿å‘½ï¼Œé€æ¸è¢«å¥³ä¸»è§’çš„çƒ­æƒ…æ„ŸæŸ“ã€‚"
                },
                {
                    id: 3,
                    imageUrl: "https://img.zcool.cn/community/01be445aebeb50a801214551e4b1db.jpg",
                    name: "æ˜Ÿé‡å‡›",
                    role: "ç«äº‰å¯¹æ‰‹",
                    description: "å­¦æ ¡çš„äººæ°”å¶åƒï¼Œèªæ˜å†·é™ï¼Œçœ‹ä¼¼å®Œç¾æ— ç¼ºï¼Œä½†æœ‰ç€ä¸ä¸ºäººçŸ¥çš„ç§˜å¯†å’Œå†…å¿ƒçš„è„†å¼±ã€‚"
                }
            ];
            
        let screenshotsData = localStorage.getItem('screenshotsData') ? 
            JSON.parse(localStorage.getItem('screenshotsData')) : 
            [
                {
                    id: 1,
                    imageUrl: "https://img.zcool.cn/community/01e26c5d5812fba8012187f4c73886.jpg",
                    description: "æ ¡å›­åœºæ™¯ï¼Œæ¨±èŠ±ç››å¼€çš„å­£èŠ‚"
                },
                {
                    id: 2,
                    imageUrl: "https://img.zcool.cn/community/0142c15bf8f513a801209e1f4af04d.jpg",
                    description: "ä¸è§’è‰²äº’åŠ¨çš„å¯¹è¯åœºæ™¯"
                },
                {
                    id: 3,
                    imageUrl: "https://img.zcool.cn/community/01bb355d29d8cfa801212b9f10ffd1.jpg",
                    description: "ç¥ç§˜çš„å¼‚ä¸–ç•Œåœºæ™¯"
                },
                {
                    id: 4,
                    imageUrl: "https://img.zcool.cn/community/0173ed5d1c94e3a8012109742057a3.jpg",
                    description: "ç²¾å½©çš„å‰§æƒ…CGç”»é¢"
                }
            ];
            
        let announcementsData = localStorage.getItem('announcementsData') ? 
            JSON.parse(localStorage.getItem('announcementsData')) : 
            [
                {
                    id: 1,
                    date: "2023-05-15",
                    title: "æ¸¸æˆæ­£å¼ä¸Šçº¿å…¬å‘Š",
                    content: "ã€Šé’ç©ºä¹‹æ‹ã€‹å°†äºä¸‹å‘¨æ­£å¼åœ¨å„å¤§å¹³å°ä¸Šçº¿ï¼æ„Ÿè°¢æ‰€æœ‰æ”¯æŒæˆ‘ä»¬çš„ç©å®¶ï¼Œæˆ‘ä»¬å‡†å¤‡äº†ä¸°å¯Œçš„ä¸Šçº¿ç¤¼åŒ…ç­‰ä½ æ¥é¢†å–ã€‚"
                },
                {
                    id: 2,
                    date: "2023-05-10",
                    title: "æ¸¸æˆé¢„çº¦çªç ´10ä¸‡",
                    content: "æ„Ÿè°¢å„ä½ç©å®¶çš„æ”¯æŒï¼Œã€Šé’ç©ºä¹‹æ‹ã€‹é¢„çº¦äººæ•°å·²çªç ´10ä¸‡ï¼é¢„çº¦å¥–åŠ±å°†åœ¨æ¸¸æˆä¸Šçº¿åå‘æ”¾åˆ°å„ä½çš„æ¸¸æˆè´¦å·ä¸­ã€‚"
                },
                {
                    id: 3,
                    date: "2023-05-01",
                    title: "æ¸¸æˆå®£ä¼ ç‰‡å‘å¸ƒ",
                    content: "ã€Šé’ç©ºä¹‹æ‹ã€‹å®£ä¼ ç‰‡æ­£å¼å‘å¸ƒï¼Œå¿«æ¥ä¸€ç¹æ¸¸æˆçš„ç²¾å½©å†…å®¹å§ï¼è§†é¢‘ä¸­è¿˜éšè—äº†ä¸€äº›å½©è›‹ï¼Œç­‰å¾…ç»†å¿ƒçš„ç©å®¶å‘ç°ã€‚"
                }
            ];
            
        let siteSettings = localStorage.getItem('siteSettings') ? 
            JSON.parse(localStorage.getItem('siteSettings')) : 
            {
                logoUrl: "images/logo.png",
                siteName: "é’ç©ºä¹‹æ‹",
                siteDescription: "æµªæ¼«äºŒæ¬¡å…ƒæ¸¸æˆå®˜æ–¹ç½‘ç«™"
            };
            
        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
            const isLoggedIn = localStorage.getItem('adminLoggedIn') === 'true';
            if (isLoggedIn) {
                showAdminPage();
                loadAllData();
            }
            
            // ç™»å½•è¡¨å•æäº¤
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (username === 'admin' && password === 'admin123') {
                    localStorage.setItem('adminLoggedIn', 'true');
                    showAdminPage();
                    loadAllData();
                } else {
                    document.getElementById('loginError').style.display = 'block';
                }
            });
            
            // é€€å‡ºç™»å½•
            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                localStorage.removeItem('adminLoggedIn');
                showLoginPage();
            });
            
            // è¿”å›ç½‘ç«™
            document.getElementById('backToSite').addEventListener('click', function(e) {
                // è¿™é‡Œä¸éœ€è¦é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œè®©å®ƒæ­£å¸¸è·³è½¬
            });
            
            // ä¾§è¾¹æ èœå•ç‚¹å‡»
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰activeç±»
                    menuItems.forEach(mi => mi.classList.remove('active'));
                    document.querySelectorAll('.content-panel').forEach(panel => panel.classList.remove('active'));
                    
                    // æ·»åŠ activeç±»åˆ°å½“å‰é¡¹
                    this.classList.add('active');
                    const panelId = this.getAttribute('data-panel');
                    document.getElementById(panelId).classList.add('active');
                });
            });
            
            // æ·»åŠ è½®æ’­å›¾æŒ‰é’®ç‚¹å‡»
            document.getElementById('addCarouselBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('addCarouselModal').classList.add('active');
            });
            
            // å…³é—­è½®æ’­å›¾å¼¹çª—
            document.getElementById('closeCarouselModal').addEventListener('click', function() {
                document.getElementById('addCarouselModal').classList.remove('active');
            });
            
            // è½®æ’­å›¾è¡¨å•æäº¤
            document.getElementById('carouselForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newCarousel = {
                    id: Date.now(),
                    imageUrl: document.getElementById('carouselImageUrl').value,
                    title: document.getElementById('carouselTitle').value,
                    description: document.getElementById('carouselDescription').value,
                    btnText: document.getElementById('carouselBtnText').value,
                    btnLink: document.getElementById('carouselBtnLink').value
                };
                
                carouselData.push(newCarousel);
                localStorage.setItem('carouselData', JSON.stringify(carouselData));
                
                loadCarouselData();
                document.getElementById('addCarouselModal').classList.remove('active');
                document.getElementById('carouselForm').reset();
            });
            
            // æ¸¸æˆä»‹ç»è¡¨å•æäº¤
            document.getElementById('gameIntroForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                gameIntroData.title = document.getElementById('gameTitle').value;
                gameIntroData.description = document.getElementById('gameDescription').value;
                gameIntroData.imageUrl = document.getElementById('gameImageUrl').value;
                
                localStorage.setItem('gameIntroData', JSON.stringify(gameIntroData));
                alert('æ¸¸æˆä»‹ç»ä¿å­˜æˆåŠŸï¼');
            });
            
            // æ·»åŠ ç‰¹è‰²æŒ‰é’®ç‚¹å‡»
            document.getElementById('addFeatureBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('addFeatureModal').classList.add('active');
            });
            
            // å…³é—­ç‰¹è‰²å¼¹çª—
            document.getElementById('closeFeatureModal').addEventListener('click', function() {
                document.getElementById('addFeatureModal').classList.remove('active');
            });
            
            // ç‰¹è‰²è¡¨å•æäº¤
            document.getElementById('featureForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newFeature = {
                    id: Date.now(),
                    icon: document.getElementById('featureIcon').value,
                    title: document.getElementById('featureTitle').value,
                    description: document.getElementById('featureDescription').value
                };
                
                gameIntroData.features.push(newFeature);
                localStorage.setItem('gameIntroData', JSON.stringify(gameIntroData));
                
                loadFeaturesData();
                document.getElementById('addFeatureModal').classList.remove('active');
                document.getElementById('featureForm').reset();
            });
            
            // æ·»åŠ è§’è‰²æŒ‰é’®ç‚¹å‡»
            document.getElementById('addCharacterBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('addCharacterModal').classList.add('active');
            });
            
            // å…³é—­è§’è‰²å¼¹çª—
            document.getElementById('closeCharacterModal').addEventListener('click', function() {
                document.getElementById('addCharacterModal').classList.remove('active');
            });
            
            // è§’è‰²è¡¨å•æäº¤
            document.getElementById('characterForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newCharacter = {
                    id: Date.now(),
                    imageUrl: document.getElementById('characterImageUrl').value,
                    name: document.getElementById('characterName').value,
                    role: document.getElementById('characterRole').value,
                    description: document.getElementById('characterDescription').value
                };
                
                charactersData.push(newCharacter);
                localStorage.setItem('charactersData', JSON.stringify(charactersData));
                
                loadCharactersData();
                document.getElementById('addCharacterModal').classList.remove('active');
                document.getElementById('characterForm').reset();
            });
            
            // æ·»åŠ æˆªå›¾æŒ‰é’®ç‚¹å‡»
            document.getElementById('addScreenshotBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('addScreenshotModal').classList.add('active');
            });
            
            // å…³é—­æˆªå›¾å¼¹çª—
            document.getElementById('closeScreenshotModal').addEventListener('click', function() {
                document.getElementById('addScreenshotModal').classList.remove('active');
            });
            
            // æˆªå›¾è¡¨å•æäº¤
            document.getElementById('screenshotForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newScreenshot = {
                    id: Date.now(),
                    imageUrl: document.getElementById('screenshotImageUrl').value,
                    description: document.getElementById('screenshotDescription').value
                };
                
                screenshotsData.push(newScreenshot);
                localStorage.setItem('screenshotsData', JSON.stringify(screenshotsData));
                
                loadScreenshotsData();
                document.getElementById('addScreenshotModal').classList.remove('active');
                document.getElementById('screenshotForm').reset();
            });
            
            // æ·»åŠ å…¬å‘ŠæŒ‰é’®ç‚¹å‡»
            document.getElementById('addAnnouncementBtn').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('addAnnouncementModal').classList.add('active');
            });
            
            // å…³é—­å…¬å‘Šå¼¹çª—
            document.getElementById('closeAnnouncementModal').addEventListener('click', function() {
                document.getElementById('addAnnouncementModal').classList.remove('active');
            });
            
            // å…¬å‘Šè¡¨å•æäº¤
            document.getElementById('announcementForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newAnnouncement = {
                    id: Date.now(),
                    date: document.getElementById('announcementDate').value,
                    title: document.getElementById('announcementTitle').value,
                    content: document.getElementById('announcementContent').value
                };
                
                announcementsData.push(newAnnouncement);
                localStorage.setItem('announcementsData', JSON.stringify(announcementsData));
                
                loadAnnouncementsData();
                document.getElementById('addAnnouncementModal').classList.remove('active');
                document.getElementById('announcementForm').reset();
            });
            
            // LOGOè¡¨å•æäº¤
            document.getElementById('logoForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                siteSettings.logoUrl = document.getElementById('logoUrl').value;
                localStorage.setItem('siteSettings', JSON.stringify(siteSettings));
                
                alert('LOGOä¿å­˜æˆåŠŸï¼');
            });
            
            // ç½‘ç«™ä¿¡æ¯è¡¨å•æäº¤
            document.getElementById('siteInfoForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                siteSettings.siteName = document.getElementById('siteName').value;
                siteSettings.siteDescription = document.getElementById('siteDescription').value;
                localStorage.setItem('siteSettings', JSON.stringify(siteSettings));
                
                alert('ç½‘ç«™ä¿¡æ¯ä¿å­˜æˆåŠŸï¼');
            });
        });

        // æ˜¾ç¤ºç™»å½•é¡µé¢
        function showLoginPage() {
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('adminPage').style.display = 'none';
        }

        // æ˜¾ç¤ºç®¡ç†é¡µé¢
        function showAdminPage() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('adminPage').style.display = 'block';
        }

        // åŠ è½½æ‰€æœ‰æ•°æ®
        function loadAllData() {
            loadCarouselData();
            loadGameIntroData();
            loadFeaturesData();
            loadCharactersData();
            loadScreenshotsData();
            loadAnnouncementsData();
            loadSiteSettings();
        }

        // åŠ è½½è½®æ’­å›¾æ•°æ®
        function loadCarouselData() {
            const tbody = document.querySelector('#carouselTable tbody');
            tbody.innerHTML = '';
            
            carouselData.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><img src="${item.imageUrl}" alt="${item.title}" class="table-image"></td>
                    <td>${item.title}</td>
                    <td>${item.description.length > 30 ? item.description.substring(0, 30) + '...' : item.description}</td>
                    <td class="actions">
                        <button class="btn-edit" onclick="editCarousel(${item.id})">ç¼–è¾‘</button>
                        <button class="btn-delete" onclick="deleteCarousel(${item.id})">åˆ é™¤</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // åŠ è½½æ¸¸æˆä»‹ç»æ•°æ®
        function loadGameIntroData() {
            document.getElementById('gameTitle').value = gameIntroData.title;
            document.getElementById('gameDescription').value = gameIntroData.description;
            document.getElementById('gameImageUrl').value = gameIntroData.imageUrl;
        }

        // åŠ è½½æ¸¸æˆç‰¹è‰²æ•°æ®
        function loadFeaturesData() {
            const featuresList = document.getElementById('featuresList');
            featuresList.innerHTML = '';
            
            gameIntroData.features.forEach(feature => {
                const featureDiv = document.createElement('div');
                featureDiv.className = 'form-row';
                featureDiv.innerHTML = `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <strong>${feature.icon} ${feature.title}</strong>
                        <div>
                            <button class="btn-edit" onclick="editFeature(${feature.id})">ç¼–è¾‘</button>
                            <button class="btn-delete" onclick="deleteFeature(${feature.id})">åˆ é™¤</button>
                        </div>
                    </div>
                    <p>${feature.description}</p>
                `;
                featuresList.appendChild(featureDiv);
            });
        }

        // åŠ è½½è§’è‰²æ•°æ®
        function loadCharactersData() {
            const tbody = document.querySelector('#charactersTable tbody');
            tbody.innerHTML = '';
            
            charactersData.forEach(character => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><img src="${character.imageUrl}" alt="${character.name}" class="table-image"></td>
                    <td>${character.name}</td>
                    <td>${character.role}</td>
                    <td class="actions">
                        <button class="btn-edit" onclick="editCharacter(${character.id})">ç¼–è¾‘</button>
                        <button class="btn-delete" onclick="deleteCharacter(${character.id})">åˆ é™¤</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // åŠ è½½æˆªå›¾æ•°æ®
        function loadScreenshotsData() {
            const grid = document.getElementById('screenshotsGrid');
            grid.innerHTML = '';
            
            screenshotsData.forEach(screenshot => {
                const item = document.createElement('div');
                item.className = 'screenshot-item';
                item.innerHTML = `
                    <div class="screenshot-img" style="background-image: url('${screenshot.imageUrl}');"></div>
                    <div class="screenshot-info">
                        <p>${screenshot.description}</p>
                        <button class="btn-delete" onclick="deleteScreenshot(${screenshot.id})">åˆ é™¤</button>
                    </div>
                `;
                grid.appendChild(item);
            });
        }

        // åŠ è½½å…¬å‘Šæ•°æ®
        function loadAnnouncementsData() {
            const tbody = document.querySelector('#announcementsTable tbody');
            tbody.innerHTML = '';
            
            announcementsData.forEach(announcement => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${announcement.date}</td>
                    <td>${announcement.title}</td>
                    <td>${announcement.content.length > 30 ? announcement.content.substring(0, 30) + '...' : announcement.content}</td>
                    <td class="actions">
                        <button class="btn-edit" onclick="editAnnouncement(${announcement.id})">ç¼–è¾‘</button>
                        <button class="btn-delete" onclick="deleteAnnouncement(${announcement.id})">åˆ é™¤</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // åŠ è½½ç½‘ç«™è®¾ç½®
        function loadSiteSettings() {
            document.getElementById('logoUrl').value = siteSettings.logoUrl;
            document.getElementById('siteName').value = siteSettings.siteName;
            document.getElementById('siteDescription').value = siteSettings.siteDescription;
        }

        // åˆ é™¤è½®æ’­å›¾
        function deleteCarousel(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè½®æ’­å›¾å—ï¼Ÿ')) {
                carouselData = carouselData.filter(item => item.id !== id);
                localStorage.setItem('carouselData', JSON.stringify(carouselData));
                loadCarouselData();
            }
        }

        // åˆ é™¤ç‰¹è‰²
        function deleteFeature(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç‰¹è‰²å—ï¼Ÿ')) {
                gameIntroData.features = gameIntroData.features.filter(item => item.id !== id);
                localStorage.setItem('gameIntroData', JSON.stringify(gameIntroData));
                loadFeaturesData();
            }
        }

        // åˆ é™¤è§’è‰²
        function deleteCharacter(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè§’è‰²å—ï¼Ÿ')) {
                charactersData = charactersData.filter(item => item.id !== id);
                localStorage.setItem('charactersData', JSON.stringify(charactersData));
                loadCharactersData();
            }
        }

        // åˆ é™¤æˆªå›¾
        function deleteScreenshot(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæˆªå›¾å—ï¼Ÿ')) {
                screenshotsData = screenshotsData.filter(item => item.id !== id);
                localStorage.setItem('screenshotsData', JSON.stringify(screenshotsData));
                loadScreenshotsData();
            }
        }

        // åˆ é™¤å…¬å‘Š
        function deleteAnnouncement(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå…¬å‘Šå—ï¼Ÿ')) {
                announcementsData = announcementsData.filter(item => item.id !== id);
                localStorage.setItem('announcementsData', JSON.stringify(announcementsData));
                loadAnnouncementsData();
            }
        }

        // ç¼–è¾‘è½®æ’­å›¾ï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…åº”ç”¨ä¸­å¯ä»¥æ‰©å±•ï¼‰
        function editCarousel(id) {
            const carousel = carouselData.find(item => item.id === id);
            if (carousel) {
                document.getElementById('carouselImageUrl').value = carousel.imageUrl;
                document.getElementById('carouselTitle').value = carousel.title;
                document.getElementById('carouselDescription').value = carousel.description;
                document.getElementById('carouselBtnText').value = carousel.btnText || '';
                document.getElementById('carouselBtnLink').value = carousel.btnLink || '';
                
                // åˆ é™¤æ—§æ•°æ®
                carouselData = carouselData.filter(item => item.id !== id);
                
                document.getElementById('addCarouselModal').classList.add('active');
            }
        }

        // ç¼–è¾‘ç‰¹è‰²ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function editFeature(id) {
            const feature = gameIntroData.features.find(item => item.id === id);
            if (feature) {
                document.getElementById('featureIcon').value = feature.icon;
                document.getElementById('featureTitle').value = feature.title;
                document.getElementById('featureDescription').value = feature.description;
                
                // åˆ é™¤æ—§æ•°æ®
                gameIntroData.features = gameIntroData.features.filter(item => item.id !== id);
                localStorage.setItem('gameIntroData', JSON.stringify(gameIntroData));
                
                document.getElementById('addFeatureModal').classList.add('active');
            }
        }

        // ç¼–è¾‘è§’è‰²ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function editCharacter(id) {
            const character = charactersData.find(item => item.id === id);
            if (character) {
                document.getElementById('characterImageUrl').value = character.imageUrl;
                document.getElementById('characterName').value = character.name;
                document.getElementById('characterRole').value = character.role;
                document.getElementById('characterDescription').value = character.description;
                
                // åˆ é™¤æ—§æ•°æ®
                charactersData = charactersData.filter(item => item.id !== id);
                
                document.getElementById('addCharacterModal').classList.add('active');
            }
        }

        // ç¼–è¾‘å…¬å‘Šï¼ˆç®€åŒ–ç‰ˆï¼‰
        function editAnnouncement(id) {
            const announcement = announcementsData.find(item => item.id === id);
            if (announcement) {
                document.getElementById('announcementDate').value = announcement.date;
                document.getElementById('announcementTitle').value = announcement.title;
                document.getElementById('announcementContent').value = announcement.content;
                
                // åˆ é™¤æ—§æ•°æ®
                announcementsData = announcementsData.filter(item => item.id !== id);
                
                document.getElementById('addAnnouncementModal').classList.add('active');
            }
        }
    </script>
</body>
</html>